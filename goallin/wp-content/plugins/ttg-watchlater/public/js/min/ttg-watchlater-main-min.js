!function($){"use strict";$.fn.outerHTML=function(){return jQuery("<div />").append(this.eq(0).clone()).html()};var t,e,a,i,r,n,o,l,s,g,h,c,u;$.ttgWatchLater={body:$("body"),actualCookie:Cookies.get("ttgWatchlater"),globalButton:$("#ttgWatchLaterLink, #ttgWatchLaterLinkMob"),buttonColor:$("#ttgWatchLaterLink, #ttgWatchLaterLinkMob").attr("data-color"),listContainer:$("#ttgWatchLaterList, #ttgWatchLaterListMob"),listDeleteBtn:$("#ttgListDelete, #ttgListDeleteMob"),listEmpty:$("#ttgListEmpty, #ttgListEmptyMob"),listDeleteBtnHtml:$("#ttgListDelete, #ttgListDeleteMob").parent().outerHTML(),listEmptyHtml:$("#ttgListEmpty, #ttgListEmptyMob").parent().outerHTML(),ttgWatchLaterAmount:$("#ttgWatchLaterAmount, #ttgWatchLaterAmountMob"),globalButtonMob:$("#ttgWatchLaterLink"),buttonColorMob:$("#ttgWatchLaterLink").attr("data-color"),listContainerMob:$("#ttgWatchLaterList"),listDeleteBtnMob:$("#ttgListDelete"),listEmptyMob:$("#ttgListEmpty"),listDeleteBtnHtmlMob:$("#ttgListDelete").parent().outerHTML(),listEmptyHtmlMob:$("#ttgListEmpty").parent().outerHTML(),ttgWatchLaterAmountMob:$("#ttgWatchLaterAmount"),clear:function(){this.body.on("click","#ttgListDelete",function(t){t.preventDefault(),Cookies.remove("ttgWatchlater"),$.ttgWatchLater.refresh()})},refresh:function(){if(g="",!Cookies.get("ttgWatchlater"))return g=$.ttgWatchLater.listEmptyHtml,$.ttgWatchLater.listContainer.html(g),void $.ttgWatchLater.ttgWatchLaterAmount.html("");n=Cookies.get("ttgWatchlater"),r=JSON.parse(n),u=r.length,$.ttgWatchLater.ttgWatchLaterAmount.html(u);for(var t in r)g+='<li  class="ttg-watchlater-item"><a href="'+r[t].permalink+'">',void 0!==r[t].thumbnail&&""!==r[t].thumbnail&&(g+='<img src="'+r[t].thumbnail+'" class="ttg-thumb-inline" alt="thumb">'),g+=r[t].title+"</li>";return""!==g?g+=$.ttgWatchLater.listDeleteBtnHtml:g=$.ttgWatchLater.listEmptyHtml,$.ttgWatchLater.globalButton.find(".ttg-amount").addClass("ttg-bounce").delay(300).promise().done(function(){$.ttgWatchLater.globalButton.find(".ttg-amount").removeClass("ttg-bounce")}),$.ttgWatchLater.listContainer.html(g),!0},save:function(){return this.body.on("click","[data-watchlater]",function(a){a.preventDefault(),t=$(this),e=t.attr("data-watchlater"),o=t.attr("data-title"),o.length>70&&(o=jQuery.trim(o).substring(0,70).split(" ").join(" ")+"..."),l=t.attr("data-thumbnail"),s=t.attr("data-permalink"),i={id:e,title:o,thumbnail:l,permalink:s},r=[],n=Cookies.get("ttgWatchlater"),"undefined"!=typeof n&&(r=JSON.parse(n)),r.push(i);var g=r,h={},c=[];for(var u in g)"undefined"==typeof h[g[u].id]&&c.push(g[u]),h[g[u].id]=0;return Cookies.set("ttgWatchlater",c),$.ttgWatchLater.refresh(),!0}),!0},init:function(){this.save(),this.refresh(),this.clear()}},$(document).ready(function(){$.ttgWatchLater.init()})}(jQuery);